Third Module of Arnia Project - Wexer Psi Backend
Project Specifications â¬‡

Class: T32022
Project Type: Patient and Medical Records Manager
Delivery Date: 07/30/23

ğŸŸ£ Good luck with the project! ğŸŸ£

First - Start:
    Github:
        âœ” Initialize repository on Github; @done(23-07-04 04:51)
        âœ” Create staging branch; @done(23-07-04 04:51)
        âœ” TODO: Each planning section is a branch; @done(23-07-04 04:51)
        âœ” TODO: Each task is a commit; @done(23-07-04 04:51)
    Node.js:
        âœ” Is planning ready? @done(23-07-04 04:51)
        âœ” Project documentation - start; @done(23-07-04 04:51)
        â˜ Initialize Node project;
        â˜ Install libraries:
        Hint: You can install more than one at a time.
            â˜ Express;
            â˜ Mongoose;
            â˜ Typescript;
            â˜ Dotenv;
            â˜ Yup;
            â˜ Jest;
            â˜ Bcrypt;
            â˜ Jsonwebtoken;
            â˜ ts-node-dev;
            â˜ multer;
        â˜ Install types:
            â˜ @types/node;
            â˜ @types/express;
            â˜ @types/jest;
            â˜ @types/bcrypt;
            â˜ @types/jsonwebtoken;
            â˜ @types/multer;
        â˜ Configure tsconfig.json:
        â˜ Configure `npm run dev`("dev": "tsnd src/server.ts");
        â˜ Configure Environment Variables;
        â˜ Create a collection in Insomnia;
    Express.js:
        â˜ Create server.ts file in the src folder of the project;
        â˜ Initialize Express server;
    MongoDB | Mongoose:
        â˜ Define MongoDB URL in the .env file;
        â˜ Create a database folder and a config.ts file;
        â˜ Initialize database connection;
Second - Folder Creation | Entity Sketches:
    Folders:
        â˜ root (dotenv | package.json | tsconfig | gitignore | node_modules | uploads)
            â˜ src (app | database | routes | server.ts file | utils | middlewares)
    App Folder:
        Legend: *these words are very long*
            con -> controllers
            ser -> services
            rep -> repositories
            ent -> entities
            fac -> factories

        Note: Each task in this section is a folder. Inside the parentheses are the files in that folder.

        â˜ Auth (con|dtos|schemas|ser|module);
        Note: The repository to be used with the Auth service is the Doctor repository.
        â˜ User|Doctor:(con|dtos|ent|fac|mapper|rep|schema|ser|module)
        Note: I'll use the word Doctor for User.
        â˜ Patient;(con|dtos|ent|rep|schemas|ser)
        â˜ Timeline;(con|dtos|ent|rep|schemas|ser)
        â˜ Occurrence;(con|dtos|ent|rep|schemas|ser)
        â˜ File;(con|dtos|ent|rep|schemas|ser)
Third - Middlewares | Models | Interfaces | DTOs:
    Middlewares:
        â˜ Authentication verification middleware;
        â˜ File upload middleware;
    Functions:
        Note: Where to put this function? utils, maybe.
        â˜ Error handling function;
    Entity Modeling:
        â˜ Yup validation schema in the Controller;
        â˜ Mongoose schema and model;
        â˜ DTO for "inter-layer communication";
        TODO: Find a better definition term.
        â˜ Don't forget the module, which creates everything;
        Note: The module will be used in the entity routes to initiate the controller with its dependencies.
        Counter:
            â˜ Auth;
            â˜ Doctor;
           

 â˜ Patient;
            â˜ Timeline;
            â˜ Occurrence;
            â˜ File;
Fourth - Layers | Routes:
    Connecting the Layers:
        â˜ /routes -> (http-req | middleware | controller dependency)
        â˜ -> controller -> (yup validation | response return | service dependency)
        â˜ -> service -> (all logic | error layer | repository dependency)
        â˜ -> repository \ (mongoose functions | populate | model dependency)
    Counter:
        â˜ Auth;
        â˜ Doctor;
        â˜ Patient;
        â˜ Timeline;
        â˜ Occurrence;
        â˜ File;
Fifth - Features:
    Note: The next section is for entity relations. I might be wrong, but I found it easier this way.
    Functions:
        â˜ Create Doctor;
        â˜ Find Doctor - just noting;
        â˜ Add pagination to GET - extra;
        â˜ Find by email - just noting;
        â˜ Authentication;
        â˜ Update Doctor;
        â˜ Delete Doctor;
        â˜ Profile picture - extra;

        â˜ *take a breath and keep going*

        â˜ Create patient -> relationship with Doctor;
        â˜ Find all patients of a Doctor;
        â˜ Add pagination to GET - extra;
        â˜ Find patient by id;
        â˜ Update patient;
        â˜ Delete patient - extra;
        
        â˜ *take another breath*
        
        â˜ Create timeline -> relationship with a Patient;
        â˜ Find all timelines of a Patient;
        â˜ Add pagination to GET - extra;
        â˜ Find timeline by id;
        â˜ Update timeline;
        â˜ Delete timeline - extra;

        â˜ *now it's easier*

        â˜ Create occurrence -> relationship with a Timeline;
        â˜ Find all occurrences of a Timeline;
        â˜ Add pagination to GET - extra;
        â˜ Find occurrences by id;
        â˜ Update occurrences;
        â˜ Delete occurrences - extra;

        Note: File entity is extra.
        â˜ Create a file -> relationship with Doctor and Occurrence;
        â˜ Associate a file with a Doctor - extra;
        Note: The file has a relationship with the Doctor because of the profile picture and with the occurrence because of the patient's attachments.
        
        Note: These are ideas - not in the briefing.
        â˜ Find all files of a Doctor;
        â˜ Associate a file with Occurrence;
        â˜ Find all files of an Occurrence;
        â˜ Find all files of a Patient;
        Note: It seems difficult, but use query for this.
        â˜ Delete a file;
    Counter:
        â˜ Auth;
        â˜ Doctor;
        â˜ Patient;
        â˜ Timeline;
        â˜ Occurrence;
        â˜ File;
Sixth - Relationships (<- Hardest part!):
    â˜ Who with whom?
    _Relationships_:
        â˜ Doctor - Main Entity, Parent of Patient and File;
        â˜ Patient - Child of Doctor and Parent of Timeline;
        â˜ Timeline - Child of Patient and Parent of Occurrences;
        â˜ Occurrences - Child of Timeline and Parent of File;
        â˜ File - Child of Doctor and Occurrences;
        Remember: Each time a child entity is created, the parent entity is updated with { parentId, {$push: childId}}
Seventh - Jest:
    Initialization:
        â˜ Configure jest;
        â˜ Add jest execution snippet to the script;
        Note: Not sure if jest.config.ts file needs to be created.
    Testing - Controllers, Services, and Repositories Layers:
        â˜ First Step - Preparation;
        â˜ Second Step - Execution;
        â˜ Third Step

 - Expected Result;
        â˜ Test for success and check if all assertions are correct;
        Tip: It's not a rule, but each return can be a separate test.
        â˜ That's it. You can do it =)
    Counter:
        Note: Coverage should be 70% for each layer.
        Controller:
            â˜ Auth;
            â˜ Doctor;
            â˜ Patient;
            â˜ Timeline;
            â˜ Occurrence;
            â˜ File;
        Service:
            â˜ Auth;
            â˜ Doctor;
            â˜ Patient;
            â˜ Timeline;
            â˜ Occurrence;
            â˜ File;
        Repository:
            â˜ Auth;
            â˜ Doctor;
            â˜ Patient;
            â˜ Timeline;
            â˜ Occurrence;
            â˜ File;
        Supertest:
            Note: This supertest is optional.
            â˜ Integration test on a user route with supertest;
Eighth - Finalization:
    Deploy:
        â˜ Railway account;
    Documentation:
        â˜ Finish documentation;

Extras_ToDo:
    â˜ Clean Architecture;
    â˜ Port/Adapter;
    â˜ Hexagonal Architecture;
    â˜ Better folder structure -> 03.2-http-3 -> user;
    â˜ Soft Delete;
    â˜ Mapper - link to files;
    â˜ Pagination;
    â˜ Request typing -> use the revision exercise;
    â˜ Capitalize first letter;